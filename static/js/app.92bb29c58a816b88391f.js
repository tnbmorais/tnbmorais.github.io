webpackJsonp([1],{"9g16":function(e,t){},E51W:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("7+uW"),n=a("aFc6"),o=(a("E51W"),a("uTBe"),{render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"main"},[t("header",{staticClass:"header"},[t("router-link",{attrs:{to:"/"}},[t("mu-avatar",{staticClass:"logo",attrs:{size:"126",color:"blue","text-color":"yellow"}},[this._v("TUST")])],1)],1),this._v(" "),t("main",{staticClass:"content"},[t("router-view")],1),this._v(" "),t("footer",{staticClass:"footer"},[t("mu-divider",{staticClass:"bottom-divider"}),this._v(" "),t("mu-bottom-nav",{staticClass:"bottom-navigation",attrs:{value:this.routeSelected}},[t("mu-bottom-nav-item",{attrs:{title:"Planear Viagem",to:"/",value:"/",icon:"directions_bus"}}),this._v(" "),t("mu-bottom-nav-item",{attrs:{title:"Mapa",to:"/map",value:"/map",icon:"location_on"}})],1)],1)])},staticRenderFns:[]});var i=a("VU/8")({name:"App",data:function(){return{routeSelected:this.$router.currentRoute.path}},watch:{$route:function(e){this.routeSelected=e.path}}},o,!1,function(e){a("xwZX")},null,null).exports,s=a("/ocq"),l=a("Dd8w"),u=a.n(l),c=a("lHA8"),d=a.n(c),m=a("c/Tr"),h=a.n(m),p=a("gRE1"),f=a.n(p),_=a("jhfc"),v=a.n(_),g=a("cPpi"),y=a.n(g),b=a("fZjL"),C=a.n(b),w={working_days:[1,2,3,4,5],saturday:[6],sunday_and_holidays:[0]};function S(e,t,a){var r=function(e){var t=e.getDay();return C()(w).find(function(e){return-1!==w[e].indexOf(t)})}(a),n="begin_to_end"===t?0:1;return y.a[e][r][n]}function D(e,t,a){return f()(v.a).filter(function(a){return[e,t].every(function(e){return-1!==a.stops.indexOf(e)})}).map(function(r){var n=r.stops.findIndex(function(t){return t===e})<r.stops.findIndex(function(e){return e===t})?"begin_to_end":"end_to_begin",o=S(r.id,n,a),i=function(e,t){var a=t;return e.find(function(e){var t=e.split(":"),r=new Date(a);return r.setHours(t[0],t[1],0),a<r})||e[0]}(o,a);return"end_to_begin"===n&&r.stops.reverse(),u()({},r,{schedules:o,nextSchedule:i})})}var A=["D","S","T","Q","Q","S","S"],F=["Dom","Seg","Ter","Qua","Qui","Sex","Sab"],k=["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],x=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],E={formatDateDisplay:function(e){return F[e.getDay()]+", "+k[e.getMonth()]+" "+e.getDate()},formatMonth:function(e){return x[e.getMonth()]+" "+e.getFullYear()},getWeekDayArray:function(e){var t=A.reduce(function(t,a,r){return r<e?(t.afterArray.push(a),t):(t.beforeArray.push(a),t)},{beforeArray:[],afterArray:[]});return t.beforeArray.concat(t.afterArray)},getMonthList:function(){return k}},M={name:"search",data:function(){return{routesFrom:(e=f()(v.a).reduce(function(e,t){return e.concat(t.stops)},[]),h()(new d.a(e)).sort()),routesTo:[],selected:{from:"",to:"",date:new Date},ptDateFormat:E};var e},methods:{onFromSelect:function(){var e,t,a=this.selected.from;this.routesTo=[],this.selected.to="",this.routesTo=(e=a,t=f()(v.a).reduce(function(t,a){return a.stops.some(function(t){return t===e})?t.concat(a.stops):t},[]),h()(new d.a(t)).sort())},allowedDates:function(e){return new Date>=e},search:function(){var e=this.selected.from,t=this.selected.to,a=this.selected.date;e&&t&&this.$emit("search",{fromValue:e,toValue:t,date:a})}}},T={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"search-container"},[a("mu-select",{attrs:{label:"De:",filterable:""},on:{change:e.onFromSelect},model:{value:e.selected.from,callback:function(t){e.$set(e.selected,"from",t)},expression:"selected.from"}},e._l(e.routesFrom,function(e,t){return a("mu-option",{key:t,attrs:{label:e,value:e}})})),e._v(" "),a("mu-select",{attrs:{label:"Para:",filterable:""},model:{value:e.selected.to,callback:function(t){e.$set(e.selected,"to",t)},expression:"selected.to"}},e._l(e.routesTo,function(e,t){return a("mu-option",{key:t,attrs:{label:e,value:e}})})),e._v(" "),a("mu-date-input",{attrs:{label:"Escolher Data",container:"dialog","clock-type":"24hr","view-type":"list",icon:"today",type:"dateTime","should-disable-date":e.allowedDates,"date-time-format":e.ptDateFormat},model:{value:e.selected.date,callback:function(t){e.$set(e.selected,"date",t)},expression:"selected.date"}}),e._v(" "),a("mu-button",{attrs:{color:"primary"},on:{click:e.search}},[e._v("Pesquisar")])],1)},staticRenderFns:[]};var V=a("VU/8")(M,T,!1,function(e){a("9g16")},"data-v-1056a8f2",null).exports,L=a("mvHQ"),O=a.n(L),P={},B={setItem:function(e,t){P[e]=t},getItem:function(e){return P[e]}};function $(e){return JSON.parse(B.getItem(e))}"sessionStorage"in window&&(B=window.sessionStorage);var H={name:"Homepage",components:{search:V},methods:{search:function(e){var t,a;t="userInput",a=e,B.setItem(t,O()(a)),this.$router.push({path:"routes"})}}},I={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("Planear Viagem")]),this._v(" "),t("search",{on:{search:this.search}})],1)},staticRenderFns:[]},R=a("VU/8")(H,I,!1,null,null,null).exports,J={name:"routes",props:{routesList:Array},data:function(){return{open:"",openScroll:!1,stopsList:[]}},methods:{setOpened:function(e){this.open=e},showStops:function(e){this.stopsList=this.routesList.reduce(function(t,a){return a.id===e?t.concat(a.stops):t},[]),this.toggleDialog()},toggleDialog:function(){this.openScroll=!this.openScroll}}},j={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("mu-container",[a("mu-list",{attrs:{textline:"two-line"}},e._l(e.routesList,function(t,r){return a("mu-list-item",{key:r,attrs:{avatar:"",button:"",ripple:!1}},[a("mu-list-item-action",[a("mu-avatar",{attrs:{color:t.color}})],1),e._v(" "),a("mu-list-item-content",[a("mu-list-item-title",[e._v(e._s(t.name))]),e._v(" "),a("mu-list-item-sub-title",[e._v("Hora Viagem: "+e._s(t.nextSchedule))])],1),e._v(" "),a("mu-list-item-action",[a("mu-button",{attrs:{icon:""},on:{click:function(a){e.showStops(t.id)}}},[a("mu-icon",{attrs:{value:"info"}})],1)],1)],1)})),e._v(" "),a("mu-dialog",{attrs:{title:"Paragens",width:"360",scrollable:"",open:e.openScroll},on:{"update:open":function(t){e.openScroll=t}}},[a("mu-list",e._l(e.stopsList,function(t){return a("mu-list-item",{key:t},[a("mu-list-item-content",[e._v("\n                    "+e._s(t)+"\n                ")])],1)})),e._v(" "),a("mu-button",{attrs:{slot:"actions",flat:"",color:"primary"},on:{click:e.toggleDialog},slot:"actions"},[e._v("Fechar")])],1)],1)},staticRenderFns:[]};var z={name:"Routespage",components:{routes:a("VU/8")(J,j,!1,function(e){a("OX1e")},"data-v-647139dc",null).exports},data:function(){var e=$("userInput"),t=e.fromValue,a=e.toValue,r=e.date;return{travel:{from:t,to:a},routes:D(t,a,new Date(r))}}},U={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("Viagem")]),e._v(" "),a("h4",[e._v(e._s(e.travel.from)+" - "+e._s(e.travel.to))]),e._v(" "),a("h2",[e._v("Percursos")]),e._v(" "),a("routes",{attrs:{routesList:e.routes}})],1)},staticRenderFns:[]},N=a("VU/8")(z,U,!1,null,null,null).exports,W={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("img",{staticClass:"routes-image",attrs:{width:"100%",src:"https://www.cm-stirso.pt/thumbs/cmsantotirso/uploads/writer_file/image/2840/Mapa_das_Linhas_1_980_2500.png",alt:""}})])}]};var Q={name:"Mappage",components:{cityMap:a("VU/8")({name:"city-map"},W,!1,function(e){a("qFc2")},"data-v-eef56194",null).exports}},Z={render:function(){var e=this.$createElement;return(this._self._c||e)("city-map")},staticRenderFns:[]},q=a("VU/8")(Q,Z,!1,null,null,null).exports;r.a.use(s.a);var G=new s.a({mode:"history",base:Object({NODE_ENV:"production"}).BASE_URL,routes:[{path:"/",name:"homepage",component:R},{path:"/routes",name:"routes",component:N,beforeEnter:function(e,t,a){return $("userInput")?a():a("/")}},{path:"/map",name:"map",component:q}]});"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("/service-worker.js")}),r.a.config.productionTip=!1,r.a.use(n.a),new r.a({router:G,el:"#app",components:{App:i},template:"<App/>"})},OX1e:function(e,t){},cPpi:function(e,t){e.exports={linha_1:{working_days:[["09:00","10:00","11:00","13:00","14:00","16:00","17.30","18:00","18:45"],["09:30","10:30","12:30","13:30","14:30","16:30","17:45","18:15","19:00"]],saturday:[["09:00","12:00","14:00","17:00","18:30"],["09:15","12:15","14:15","17:15","18:45"]],sunday_and_holidays:[["09:00","12:00","14:00","17:00"],["09:15","12:15","14:15","17:15"]]},linha_2:{working_days:[["07:00","08:30","10:30","12:30","14:00","17:30","18:30"],["07:55","09:40","11:10","13:10","13:35","16:40","18:10"]],saturday:[["07:15","09:15","13:15","16:15"],["07:30","09:30","13:30","16:30"]],sunday_and_holidays:[["09:15","13:15","16:15","18:15"],["09:30","13:30","16:30","18:30"]]},linha_3:{working_days:[["07:30","08:00","08:30","10:00","12:00","13:30","16:30","17:30","18:30"],["07:00","08:00","08:30","09:00","10:30","12:30","14:00","17:00","18:00","19:00"]],saturday:[["07:45","09:45","13:45","16:45"],["08:00","10:00","14:00","17:00"]],sunday_and_holidays:[["09:45","13:45","16:45","18:45"],["10:00","14:00","17:00","19:00"]]},linha_4:{working_days:[["07:45","09:30","11:00","13:00","13:25","16:30","18:00"],["07:15","08:45","10:45","12:45","14:15","17:45","18:45"]],saturday:[["08:15","10:15","14:15","17:15"],["08:30","10:30","14:30","17:30"]],sunday_and_holidays:[["08:15","10:15","14:15","17:15"],["08:30","10:30","14:30","17:30"]]},linha_5:{working_days:[["07:30","08:20","10:20","12:10","13:00","13:50","16:50","17:40","18:30"],["07:05","07:55","08:45","10:45","12:35","13:25","14:15","17:15","18:05","18:55"]],saturday:[["08:45","10:45","14:45","17:45"],["09:00","11:00","15:00","18:00"]],sunday_and_holidays:[["08:45","10:45","14:45","17:45"],["09:00","11:00","15:00","18:00"]]},linha_6:{working_days:[["07:00","07:40","08:20","10:20","12:10","12:50","13:50","16:30","17:30","18:30"],["07:20","08:00","08:40","10:40","12:30","13:10","14:10","16:50","17:50","18:50"]],saturday:[["07:30","09:30","12:30","14:30","17:30"],["07:45","09:45","12:45","14:45","17:45"]],sunday_and_holidays:[["09:30","12:30","14:30","17:30","18:30"],["09:45","12:45","14:45","17:45","18:45"]]},linha_7:{working_days:[["07:30","08:30","09:30","10:30","12:30","13:30","16:30","17:30","18:30"],["07:30","08:00","09:00","10:00","11:00","13:00","14:00","17:00","18:00","19:00"]],saturday:[["08:00","10:00","13:00","15:00","18:00"],["08:30","10:30","13:30","15:30","18:15"]],sunday_and_holidays:[["08:00","10:00","13:00","15:00","18:00"],["08:30","10:30","13:30","15:30","18:15"]]}}},jhfc:function(e,t){e.exports={linha_1:{id:"linha_1",name:"Linha 1: Central - Estação - Torre",color:"#9c3d98",stops:["Central","S. Rosendo","Hospital","D. Dinis","Arco","Mercado","C. Pacheco","Vilalva","C. Saúde","Baías","S. B. Batalha","Portela","Escolas","O. Salazar","Fabrica ST","Estação","A. L. Carneiro","Torre 1","Torre 2"]},linha_2:{id:"linha_2",name:"Linha 2: Central - Tarrio (via Ermida)",color:"#6bcff4",stops:["Central","Arco","Alcaíde","Geão","Juncal","V. Gama","Laranjeiras","Acácias","Oliveiras","Poupa","Fontes","Bela","Grilo","Marinhos","Tarrio 2"]},linha_3:{id:"linha_3",name:"Linha 3: Central - Torre",color:"#5e3895",stops:["Central","Arco","D. Dinis","Hospital","B. Correia","Escolas","Olival","Além Rio","A. Coelho","Cemitério","Pinheirinho","Lameira","Agra","Freixieiro","Silvade 1","C. Saúde","Silvade 2","Igreja Areias","Caldelas","Caldas","Capela","Casal","Matos","Tapada","Torre 2"]},linha_4:{id:"linha_4",name:"Linha 4: Central - Tarrio (via Merouços)",color:"#feca35",stops:["Central","Pavilhão","Picoto","Orgal","Cristininha","Igreja Couto","Merouços","Passagem","Montrego","Pintos","Tarrio 1","Tarrio 2"]},linha_5:{id:"linha_5",name:"Linha 5: Central - Abelha",color:"#007e43",stops:["Central","Arco","D. Dinis","Hospital","B. Correia","Escolas","Olival","Museu","Covas","Perlonga","Calçada","Padroeiro","Calvelo","Vinha","S. João","Igreja Burgães","Abelha"]},linha_6:{id:"linha_6",name:"Linha 6: Central - Outeiro",color:"#e5173e",stops:["Central","Arco","D. Dinis","Hospital","B. Correia","Vilalva","Cadeia","Escolas","Olival","Museu","Matadouro","Formiga","Varziela","Areal","J. S. Miguel","Bacelo","Outeiro 1"]},linha_7:{id:"linha_7",name:"Linha 7: Central - Várzea",color:"#f79248",stops:["Central","Mercado","Sousa Cruz","Escolas","B. Correia","Hospital","D. Dinis","Alcaide","Geão","Fontiscos","Foral","S. Bartolomeu","Cooperantes","Carvoeira","Hercul 1","Hercul 2","S. Bento","Costeira","Argemil","Moagem","Z. I. Freixieiro","Z. I. Varzea","Várzea 1","Várzea 2"]}}},qFc2:function(e,t){},uTBe:function(e,t){},xwZX:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.92bb29c58a816b88391f.js.map